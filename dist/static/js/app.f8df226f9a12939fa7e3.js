webpackJsonp([1],[,,,,,,,,function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"b",function(){return i}),a.d(e,"c",function(){return n}),a.d(e,"d",function(){return r}),a.d(e,"e",function(){return o});var s="CHANGE_MOVIES_TAB",i="FETCH_MOVIES",n="FETCH_MOVIE_SUBJECT",r="CHANGE_LOADING_STATUS",o="QUERY_MOVIES"},,,,,,,,,,,,,,,,,function(t,e,a){a(109);var s=a(3)(a(54),a(129),null,null);t.exports=s.exports},,function(t,e,a){"use strict";var s=a(12),i=a(11),n=a(62);s.default.use(i.a),e.a=new i.a.Store({modules:{movie:n.a}})},,,,,,,,,,,,function(t,e,a){a(108);var s=a(3)(a(52),a(128),null,null);t.exports=s.exports},,,,,,,function(t,e,a){"use strict";var s=a(12),i=a(134),n=a(123),r=a.n(n),o=a(121),c=a.n(o),u=a(118),l=a.n(u),v=a(122),m=a.n(v);s.default.use(i.a),e.a=new i.a({mode:"history",routes:[{path:"/movie/home",name:"MovieHome",component:r.a,alias:"/"},{path:"/about",name:"About",component:l.a},{path:"/movie/subject/:id",name:"MovieSubject",component:c.a},{path:"/movie/search",name:"SearchMovie",component:m.a}]})},function(t,e){},function(t,e){},,function(t,e,a){a(104);var s=a(3)(a(51),a(124),null,null);t.exports=s.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(119),i=a.n(s);e.default={name:"app",components:{copyright:i.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"description"}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(25),i=a.n(s);e.default={props:["subject"],components:{"star-rating":i.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["size","stars","rating","max"],computed:{starObj:function(){var t=Math.floor(parseInt(this.stars)/10),e=this.stars%10/5;return{stars:t,half:e,empty:5-t-e}}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(39),i=a.n(s);e.default={data:function(){return{fullWidth:!0}},name:"About",components:{description:i.a},methods:{back:function(){this.$router.go(-1)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(11),i=a(8),n=a(25),r=a.n(n);e.default={data:function(){return{transitionName:"slide-left"}},created:function(){this.fetchData()},props:["tabName"],watch:{$route:function(t,e){var a=t.path.split("/").length,s=e.path.split("/").length;this.transitionName=a<s?"slide-right":"slide-left"}},beforeUpdate:function(){this.fetchData()},computed:a.i(s.b)({subjects:function(t){return t.movie[this.tabName].subjects}}),components:{"star-rating":r.a},methods:{fetchData:function(){var t=this.$store.state.movie[this.tabName].subjects;t&&0==t.length&&this.$store.dispatch(i.b,{type:this.tabName})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(11),i=a(27),n=a(25),r=a.n(n),o=a(8);e.default={beforeRouteEnter:function(t,e,a){var s=t.params.id;i.a.state.movie.subjects[s]?a():i.a.dispatch(o.c,{id:s,callback:function(){a()}})},computed:a.i(s.b)({movie:function(t){return t.movie.subjects[this.$route.params.id]}}),methods:{goBack:function(){this.$router.go(-1)}},components:{"star-rating":r.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(11),i=a(8),n=a(117),r=a.n(n);e.default={data:function(){return{q:""}},components:{"movie-card":r.a},watch:{$route:"queryMovie"},computed:a.i(s.b)({subjects:function(t){return t.movie.query.subjects},text:function(t){return t.movie.query.text}}),methods:{gotoTab:function(){this.$router.go(-1)},searchq:function(){this.$router.push({name:"SearchMovie",query:{name:this.q}})},queryMovie:function(){this.$store.dispatch(i.e,{name:this.$route.query.name})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(11),i=a(39),n=a.n(i),r=a(120),o=a.n(r),c=a(8);e.default={data:function(){return{value:"movie",open:!1,docked:!0}},computed:a.i(s.b)({activeTab:function(t){return t.movie.tab},isLoading:function(t){return t.movie.isLoading}}),components:{description:n.a,"movie-list":o.a},methods:{toggle:function(t){this.open=!this.open,this.docked=!t},itemChange:function(t){switch(this.value=t,t){case"movie":case"book":case"music":break;case"about":this.$router.push({name:"About"})}},tabChange:function(t){this.$store.dispatch(c.a,t)},gotoSearch:function(){this.$router.push({name:"SearchMovie"})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(12),i=a(50),n=a.n(i),r=a(46),o=a(49),c=a.n(o),u=a(27),l=a(47),v=(a.n(l),a(48));a.n(v);s.default.config.productionTip=!1,s.default.use(c.a),s.default.filter("arr2string",function(t){return t.join(" / ")}),new s.default({el:"#app",router:r.a,store:u.a,template:"<App/>",components:{App:n.a}})},function(t,e,a){"use strict";function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.city,s=void 0===a?"上海":a;return r.a.get(o+"/movie/"+t,{city:s})}function i(t){return r.a.get(o+"/movie/subject/"+t)}function n(t){return r.a.get(o+"/movie/search?q="+t)}var r=a(63);e.a=s,e.b=i,e.c=n;var o="/api/v2"},function(t,e,a){"use strict";var s,i,n=a(66),r=a.n(n),o=a(8),c=a(61),u=(s={},r()(s,o.a,function(t,e){t.tab=e}),r()(s,o.b,function(t,e){t[e.type].subjects=e.subjects}),r()(s,o.c,function(t,e){t.subjects[e.id]=e.subject}),r()(s,o.d,function(t,e){t.isLoading=e.isLoading}),r()(s,o.e,function(t,e){t.query.text=e.name,t.query.subjects=e.subjects}),s),l=(i={},r()(i,o.a,function(t,e){t.commit(o.a,e)}),r()(i,o.b,function(t,e){t.commit(o.d,{isLoading:!0}),c.a(e.type).then(function(a){t.commit(o.b,{type:e.type,subjects:a.subjects}),t.commit(o.d,{isLoading:!1})})}),r()(i,o.c,function(t,e){c.b(e.id).then(function(a){e.callback&&e.callback(),t.commit(o.c,{id:e.id,subject:a})})}),r()(i,o.e,function(t,e){c.c(e.name).then(function(a){t.commit(o.e,{name:e.name,subjects:a.subjects})})}),i);e.a={actions:l,mutations:u,state:{in_theaters:{subjects:[]},coming_soon:{subjects:[]},isLoading:!1,tab:"in_theaters",subjects:{},query:{subjects:[],text:""}}}},function(t,e,a){"use strict";var s=a(65),i=a.n(s),n=a(136),r=a.n(n);e.a={get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new i.a(function(a,s){r.a.get(t,e).then(function(t){a(t.data)}).catch(function(t){s(t)})})}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,function(t,e,a){a(112);var s=a(3)(a(53),a(132),null,null);t.exports=s.exports},function(t,e,a){a(110);var s=a(3)(a(55),a(130),null,null);t.exports=s.exports},function(t,e,a){a(111);var s=a(3)(null,a(131),null,null);t.exports=s.exports},function(t,e,a){a(113);var s=a(3)(a(56),a(133),null,null);t.exports=s.exports},function(t,e,a){a(107);var s=a(3)(a(57),a(127),"data-v-29e7ee9f",null);t.exports=s.exports},function(t,e,a){a(105);var s=a(3)(a(58),a(125),null,null);t.exports=s.exports},function(t,e,a){a(106);var s=a(3)(a(59),a(126),null,null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view"),t._v(" "),a("copyright")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"search"}},[a("mu-appbar",[a("mu-icon-button",{staticClass:"bar-icon",attrs:{icon:"arrow_back"},on:{click:function(e){t.gotoTab()}},slot:"left"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.q,expression:"q",modifiers:{trim:!0}}],staticClass:"bar-text",attrs:{autofocus:"true",underlineShow:!1,hintText:"请输入关键字"},domProps:{value:t.text,value:t.q},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.searchq(e)},input:function(e){e.target.composing||(t.q=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("mu-icon-button",{attrs:{icon:"close"},slot:"right"})],1),t._v(" "),a("div",{staticClass:"search-result"},[t._l(t.subjects,function(t){return a("movie-card",{key:t.id,attrs:{subject:t}})}),t._v(" "),a("router-view")],2)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tab"}},[a("mu-drawer",{staticClass:"drawer",attrs:{open:t.open,docked:t.docked},on:{close:function(e){t.toggle()}}},[a("description"),t._v(" "),a("mu-list",{attrs:{value:t.value},on:{itemClick:function(e){t.docked||t.toggle()},change:t.itemChange}},[a("mu-list-item",{attrs:{value:"movie",title:"电影"}},[a("mu-icon",{attrs:{value:"movie"},slot:"left"})],1),t._v(" "),a("mu-list-item",{attrs:{value:"book",title:"图书"}},[a("mu-icon",{attrs:{value:"book"},slot:"left"})],1),t._v(" "),a("mu-list-item",{attrs:{value:"music",title:"音乐"}},[a("mu-icon",{attrs:{value:"music_note"},slot:"left"})],1),t._v(" "),a("mu-divider",{attrs:{shallowInset:""}}),t._v(" "),a("mu-list-item",{attrs:{value:"about",title:"关于"}},[a("mu-icon",{attrs:{value:"info"},slot:"left"})],1)],1)],1),t._v(" "),a("mu-paper",{attrs:{zDepth:2}},[a("mu-appbar",{attrs:{title:"电影"}},[a("mu-icon-button",{attrs:{icon:"menu"},on:{click:function(e){t.toggle(!0)}},slot:"left"}),t._v(" "),a("mu-icon-button",{attrs:{icon:"search"},on:{click:function(e){t.gotoSearch()}},slot:"right"})],1),t._v(" "),a("mu-tabs",{attrs:{value:t.activeTab},on:{change:t.tabChange}},[a("mu-tab",{attrs:{value:"in_theaters",icon:"movie",title:"正在上映"}}),t._v(" "),a("mu-tab",{attrs:{value:"coming_soon",icon:"lightbulb_outline",title:"即将上映..."}})],1)],1),t._v(" "),a("movie-list",{attrs:{"tab-name":t.activeTab}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"loading"},[a("mu-circular-progress",{staticClass:"progress",attrs:{size:40}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"relative"}},[a("mu-icon-button",{staticClass:"icon-back",attrs:{icon:"arrow_back"},on:{click:function(e){t.goBack()}},slot:"left"}),t._v(" "),a("div",{staticClass:"image-wrap",style:"background-image: url("+t.movie.images.large+")"}),t._v(" "),a("div",{staticClass:"title-border"},[a("div",{staticClass:"title-info"},[a("div",{staticClass:"title-image"},[a("img",{attrs:{src:t.movie.images.large}})]),t._v(" "),a("div",{staticClass:"title-text"},[a("p",[t._v(t._s(t.movie.title))])])])]),t._v(" "),t.movie.rating.average>0?a("span",{staticClass:"star-rating"},[a("star-rating",{attrs:{stars:t.movie.rating.stars,rating:t.movie.rating.average,max:t.movie.rating.max,size:42}})],1):t._e(),t._v(" "),a("div",{staticClass:"info"},[a("p",{staticClass:"info-content"},[a("span",[t._v("原名")]),a("span",{staticClass:"info-text"},[t._v(t._s(t.movie.original_title))])]),t._v(" "),a("p",{staticClass:"info-content"},[a("span",[t._v("类型")]),a("span",{staticClass:"info-text"},[t._v(t._s(t._f("arr2string")(t.movie.genres)))])]),t._v(" "),a("p",{staticClass:"info-content"},[a("span",[t._v("年代")]),a("span",{staticClass:"info-text"},[t._v(t._s(t.movie.year))])]),t._v(" "),a("p",{staticClass:"info-content"},[a("span",[t._v("地区")]),a("span",{staticClass:"info-text"},[t._v(t._s(t._f("arr2string")(t.movie.countries)))])]),t._v(" "),a("p",{staticClass:"info-content"},[a("span",[t._v("又名")]),a("span",{staticClass:"info-text"},[t._v(t._s(t._f("arr2string")(t.movie.aka)))])]),t._v(" "),a("p",{staticClass:"info-content"},[a("span",[t._v("想看人数")]),a("span",{staticClass:"info-text"},[t._v(t._s(t.movie.wish_count))])]),t._v(" "),a("p",{staticClass:"info-content"},[a("span",[t._v("看过人数")]),a("span",{staticClass:"info-text"},[t._v(t._s(t.movie.collect_count))])]),t._v(" "),a("p",{staticClass:"info-content"},[a("span",[t._v("评分人数")]),a("span",{staticClass:"info-text"},[t._v(t._s(t.movie.ratings_count))])]),t._v(" "),a("p",{staticClass:"info-content"},[a("span",[t._v("短评数量")]),a("span",{staticClass:"info-text"},[t._v(t._s(t.movie.comments_count))])]),t._v(" "),a("p",{staticClass:"info-content"},[a("span",[t._v("影评数量")]),a("span",{staticClass:"info-text"},[t._v(t._s(t.movie.reviews_count))])])]),t._v(" "),a("div",{staticClass:"summary"},[t._v(t._s(t.movie.summary))]),t._v(" "),a("div",{staticClass:"author"},[a("p",{staticClass:"author-type"},[t._v("导演")]),t._v(" "),a("mu-row",t._l(t.movie.directors,function(e){return a("mu-col",{key:e.id,staticClass:"author-elem",attrs:{width:"50",tablet:"33",desktop:"25"}},[a("mu-paper",[a("div",{staticClass:"author-wrap"},[a("div",{staticClass:"author-image"},[a("div",{staticClass:"author-padding",style:"background-image: url("+(e.avatars&&e.avatars.large||"")+")"})]),t._v(" "),a("div",{staticClass:"author-name"},[t._v(t._s(e.name))])])])],1)}))],1),t._v(" "),a("div",{staticClass:"author"},[a("p",{staticClass:"author-type"},[t._v("主演")]),t._v(" "),a("mu-row",t._l(t.movie.casts,function(e){return a("mu-col",{key:e.id,staticClass:"author-elem",attrs:{width:"50",tablet:"33",desktop:"25"}},[a("mu-paper",[a("div",{staticClass:"author-wrap"},[a("div",{staticClass:"author-image"},[a("div",{staticClass:"author-padding",style:"background-image: url("+(e.avatars&&e.avatars.large||"")+")"})]),t._v(" "),a("div",{staticClass:"author-name"},[t._v(t._s(e.name))])])])],1)}))],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("mu-card",[a("mu-card-media",{attrs:{title:"Web Douban",subTitle:"一个移动端的豆瓣应用",subTitleClass:"subTitleClass"}},[a("img",{attrs:{src:"https://img3.doubanio.com/img/celebrity/large/17525.jpg"}})])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"star-container"}},[a("span",{staticClass:"star"},[t._l(t.starObj.stars,function(e){return a("mu-icon",{key:e,attrs:{value:"star",size:t.size}})}),t._v(" "),t._l(t.starObj.half,function(e){return a("mu-icon",{key:e,attrs:{value:"star_half",size:t.size}})}),t._v(" "),t._l(t.starObj.empty,function(e){return a("mu-icon",{key:e,attrs:{value:"star_border",size:t.size}})})],2),t._v(" "),a("span",[t._v(t._s(t.rating))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("mu-appbar",{attrs:{title:"关于"}},[a("mu-icon-button",{attrs:{icon:"arrow_back"},on:{click:t.back},slot:"left"})],1),t._v(" "),a("mu-card",[a("mu-card-media",[a("img",{attrs:{src:"/static/img/action.jpg"}})]),t._v(" "),a("mu-card-title",{attrs:{title:"Web Douban App",subTitle:"movie,book,music..."}}),t._v(" "),a("mu-card-text",[t._v("\n      This is a demo for douban app with vuejs, webpack.\n      It gives you a brief description for movie, books and music.\n      For more code infomation, please refer to the following github.\n    ")])],1),t._v(" "),a("mu-raised-button",{staticClass:"github-button",attrs:{href:"https://github.com/mewwind/vue-douban/",label:"vue-douban",labelPosition:"after",fullWidth:""}},[a("img",{staticClass:"github-img",attrs:{src:"/static/img/github.png"}})])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"copyright"},[t._v("\n  Powered by Mill\n  "),a("br"),t._v("\n  ©2017\n")])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"card"}},[a("router-link",{attrs:{to:{name:"MovieSubject",params:{id:t.subject.id}}}},[a("mu-paper",[a("div",{staticClass:"card-image",style:"background-image:url("+t.subject.images.large+")"}),t._v(" "),a("div",{staticClass:"description"},[a("div",{staticClass:"title"},[a("span",{staticClass:"name"},[t._v(t._s(t.subject.title))]),t._v(" "),a("span",{staticClass:"year"},[t._v(t._s(t.subject.year))])]),t._v(" "),t.subject.rating.average>0?a("div",{staticClass:"star-rating"},[a("star-rating",{attrs:{size:13,stars:t.subject.rating.stars,rating:t.subject.rating.average,max:t.subject.rating.max}})],1):a("div",[t._v("暂无评分")]),t._v(" "),a("div",[t._v("类型："+t._s(t._f("arr2string")(t.subject.genres)))]),t._v(" "),a("div",{staticClass:"line-limit-1"},[t._v("导演："+t._s(t._f("arr2string")(t.subject.directors.map(function(t){return t.name}))))]),t._v(" "),a("div",{staticClass:"line-limit-2"},[t._v("主演："+t._s(t._f("arr2string")(t.subject.casts.map(function(t){return t.name}))))])])])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("mu-row",t._l(t.subjects,function(e){return a("mu-col",{key:e.id,attrs:{width:"33",tablet:"25",desktop:"20"}},[a("router-link",{attrs:{to:{name:"MovieSubject",params:{id:e.id}}}},[a("mu-card",[a("mu-card-media",{style:"background-image: url("+e.images.large+")"}),t._v(" "),a("mu-card-title",{attrs:{title:e.title,titleClass:"card-title"}}),t._v(" "),e.rating.average>0?a("span",{staticClass:"star-rating"},[a("star-rating",{attrs:{size:13,stars:e.rating.stars,rating:e.rating.average,max:e.rating.max}})],1):a("span",[t._v("暂无评分")])],1)],1)],1)}))],1)},staticRenderFns:[]}}],[60]);
//# sourceMappingURL=app.f8df226f9a12939fa7e3.js.map